# Generated file do not edit!
# (10/14/2017 17:05:30.000)


PGMNAM=genMake
SYS=macosx
TEMP=/tmp
BASEDIR = $(TEMP)/$(PGMNAM)

CFLAGS += -g -Werror -Isrc -Isrc/$(SYS)
LIBCMN_BASE = $(HOME)/Support/lib/$(SYS)/libCmn
CFLAGS += -I$(LIBCMN_BASE)/include
CFLAGS += -D__MACOSX_ENV__

CFLAGS_LIBS = 
CFLAGS_LIBS += -lCmn -L$(LIBCMN_BASE)
CFLAGS_LIBS += -lpanel -lmenu -lncurses

INSTALL_BASE = $(HOME)/Support/bin
INSTALLDIR = $(INSTALL_BASE)
LIBDIR = $(BASEDIR)/$(SYS)
SRCDIR = ./src
SRCSYSDIR = ./src/$(SYS)
ifdef  NDEBUG
CFLAGS += -DNDEBUG 
OBJDIR = $(LIBDIR)/o/r
else   #DEBUG
CFLAGS += -D_DEBUG 
OBJDIR = $(LIBDIR)/o/d
endif  #NDEBUG


.SUFFIXES:
.SUFFIXES: .asm .c .o





OBJS =

OBJS += $(OBJDIR)/genBase.o $(OBJDIR)/genBase_object.o

$(OBJDIR)/genBase.o: $(SRCDIR)/genBase.c
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $<

$(OBJDIR)/genBase_object.o: $(SRCDIR)/genBase_object.c
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $<


OBJS += $(OBJDIR)/genOSX.o $(OBJDIR)/genOSX_object.o

$(OBJDIR)/genOSX.o: $(SRCDIR)/genOSX.c
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $<

$(OBJDIR)/genOSX_object.o: $(SRCDIR)/genOSX_object.c
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $<


OBJS += $(OBJDIR)/genWIN.o $(OBJDIR)/genWIN_object.o

$(OBJDIR)/genWIN.o: $(SRCDIR)/genWIN.c
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $<

$(OBJDIR)/genWIN_object.o: $(SRCDIR)/genWIN_object.c
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $<


OBJS += $(OBJDIR)/main.o $(OBJDIR)/main_object.o

$(OBJDIR)/main.o: $(SRCDIR)/main.c
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $<

$(OBJDIR)/main_object.o: $(SRCDIR)/main_object.c
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $<





TESTS =


TESTS += test_genBase

test_genBase: $(OBJS)
	$(CC) $(CFLAGS) $(CFLAGS_LIBS) -Itests $(LIBPATH) -o $(OBJDIR)/$(@F) $(OBJS) tests/test_genBase.c 
	$(OBJDIR)/$(@F)


TESTS += test_genOSX

test_genOSX: $(OBJS)
	$(CC) $(CFLAGS) $(CFLAGS_LIBS) -Itests $(LIBPATH) -o $(OBJDIR)/$(@F) $(OBJS) tests/test_genOSX.c 
	$(OBJDIR)/$(@F)


TESTS += test_genWIN

test_genWIN: $(OBJS)
	$(CC) $(CFLAGS) $(CFLAGS_LIBS) -Itests $(LIBPATH) -o $(OBJDIR)/$(@F) $(OBJS) tests/test_genWIN.c 
	$(OBJDIR)/$(@F)


TESTS += test_main

test_main: $(OBJS)
	$(CC) $(CFLAGS) $(CFLAGS_LIBS) -Itests $(LIBPATH) -o $(OBJDIR)/$(@F) $(OBJS) tests/test_main.c 
	$(OBJDIR)/$(@F)





.PHONY: test
test:  $(TESTS)


.PHONY: clean
clean:
	-cd $(TEMP) ; [ -e $(PGMNAM) ] && rm -fr $(PGMNAM)


.PHONY: install
install:
	-cd $(INSTALL_BASE) ; [ -e $(PGMNAM) ] && rm $(PGMNAM)
	cp $(BASEDIR)/$(PGMNAM) $(INSTALLDIR)/$(PGMNAM)


.PHONY: link
link:  $(OBJS) src/mainProgram.c
	CC -o $(OBJDIR)/$(PGMNAM) $(CFLAGS) $(CFLAGS_LIBS) $^


.PHONY: create_dirs
create_dirs:
	[ ! -d $(OBJDIR) ] && mkdir -p $(OBJDIR)


.PHONY: all
all:  clean create_dirs link



