# Generated file - edits may be discarded!

PGMNAM=genMake
SYS=macosx
TEMP=/tmp
BASEDIR = $(TEMP)/$(PGMNAM)

CFLAGS_LIBS = 
CFLAGS += -g -Werror -Isrc -Isrc/$(SYS)
LIB_BASE = $(HOME)/Support/lib/$(SYS)
LIBCMN_BASE = $(LIB_BASE)/libCmn
CFLAGS += -I$(LIBCMN_BASE)/include
CFLAGS_LIBS += -lCmn -L$(LIBCMN_BASE)
CFLAGS += -D__MACOSX_ENV__

TEST_FLGS = -Itests $(CFLAGS_LIBS) -lcurses

INSTALL_BASE = $(HOME)/Support/bin
INSTALLDIR = $(INSTALL_BASE)
LIBDIR = $(BASEDIR)/$(SYS)
SRCDIR = ./src
SRCSYSDIR = ./src/$(SYS)
TEST_SRC = ./tests
ifdef  NDEBUG
CFLAGS += -DNDEBUG
LIB_FILENAME=$(LIBNAM)R.a
OBJDIR = $(LIBDIR)/o/r
else   #DEBUG
CFLAGS += -D_DEBUG 
LIB_FILENAME=$(LIBNAM)D.a
OBJDIR = $(LIBDIR)/o/d
endif  #NDEBUG
TEST_OBJ = $(OBJDIR)/tests
LIBPATH = $(LIBDIR)/$(LIB_FILENAME)

.SUFFIXES:
.SUFFIXES: .asm .c .o

OBJS = 

TESTS = 





OBJS += $(OBJDIR)/dbprs_object.o

$(OBJDIR)/dbprs_object.o: $(SRCDIR)/dbprs_object.c 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

OBJS += $(OBJDIR)/dbprs.o

$(OBJDIR)/dbprs.o: $(SRCDIR)/dbprs.c $(SRCDIR)/genMake.h 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

TESTS += test_dbprs

test_dbprs: $(TEST_SRC)/test_dbprs.c 
	$(CC) $(CFLAGS) $(TEST_FLGS) -o $(TEST_OBJ)/$(@F) $(OBJS) $< 
	$(TEST_OBJ)/$(@F)

OBJS += $(OBJDIR)/genBase_object.o

$(OBJDIR)/genBase_object.o: $(SRCDIR)/genBase_object.c 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

OBJS += $(OBJDIR)/genBase.o

$(OBJDIR)/genBase.o: $(SRCDIR)/genBase.c $(SRCDIR)/genMake.h 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

TESTS += test_genBase

test_genBase: $(TEST_SRC)/test_genBase.c 
	$(CC) $(CFLAGS) $(TEST_FLGS) -o $(TEST_OBJ)/$(@F) $(OBJS) $< 
	$(TEST_OBJ)/$(@F)

OBJS += $(OBJDIR)/genOSX_object.o

$(OBJDIR)/genOSX_object.o: $(SRCDIR)/genOSX_object.c 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

OBJS += $(OBJDIR)/genOSX.o

$(OBJDIR)/genOSX.o: $(SRCDIR)/genOSX.c $(SRCDIR)/genMake.h 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

TESTS += test_genOSX

test_genOSX: $(TEST_SRC)/test_genOSX.c 
	$(CC) $(CFLAGS) $(TEST_FLGS) -o $(TEST_OBJ)/$(@F) $(OBJS) $< 
	$(TEST_OBJ)/$(@F)

OBJS += $(OBJDIR)/genWIN_object.o

$(OBJDIR)/genWIN_object.o: $(SRCDIR)/genWIN_object.c 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

OBJS += $(OBJDIR)/genWIN.o

$(OBJDIR)/genWIN.o: $(SRCDIR)/genWIN.c $(SRCDIR)/genMake.h 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

TESTS += test_genWIN

test_genWIN: $(TEST_SRC)/test_genWIN.c 
	$(CC) $(CFLAGS) $(TEST_FLGS) -o $(TEST_OBJ)/$(@F) $(OBJS) $< 
	$(TEST_OBJ)/$(@F)

OBJS += $(OBJDIR)/main_object.o

$(OBJDIR)/main_object.o: $(SRCDIR)/main_object.c 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

OBJS += $(OBJDIR)/main.o

$(OBJDIR)/main.o: $(SRCDIR)/main.c $(SRCDIR)/genMake.h 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

TESTS += test_main

test_main: $(TEST_SRC)/test_main.c 
	$(CC) $(CFLAGS) $(TEST_FLGS) -o $(TEST_OBJ)/$(@F) $(OBJS) $< 
	$(TEST_OBJ)/$(@F)


OBJS += $(OBJDIR)/NodeBase_object.o

$(OBJDIR)/NodeBase_object.o: $(SRCDIR)/NodeBase_object.c 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

OBJS += $(OBJDIR)/NodeBase.o

$(OBJDIR)/NodeBase.o: $(SRCDIR)/NodeBase.c $(SRCDIR)/genMake.h 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

TESTS += NodeBase_test

NodeBase_test: $(TEST_SRC)/NodeBase_test.c 
	$(CC) $(CFLAGS) $(TEST_FLGS) -o $(TEST_OBJ)/$(@F) $(OBJS) $< 
	$(TEST_OBJ)/$(@F)


OBJS += $(OBJDIR)/NodeHdr_object.o

$(OBJDIR)/NodeHdr_object.o: $(SRCDIR)/NodeHdr_object.c 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

OBJS += $(OBJDIR)/NodeHdr.o

$(OBJDIR)/NodeHdr.o: $(SRCDIR)/NodeHdr.c $(SRCDIR)/genMake.h 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

TESTS += NodeHdr_test

NodeHdr_test: $(TEST_SRC)/NodeHdr_test.c 
	$(CC) $(CFLAGS) $(TEST_FLGS) -o $(TEST_OBJ)/$(@F) $(OBJS) $< 
	$(TEST_OBJ)/$(@F)


OBJS += $(OBJDIR)/NodeLib_object.o

$(OBJDIR)/NodeLib_object.o: $(SRCDIR)/NodeLib_object.c 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

OBJS += $(OBJDIR)/NodeLib.o

$(OBJDIR)/NodeLib.o: $(SRCDIR)/NodeLib.c $(SRCDIR)/genMake.h 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

TESTS += NodeLib_test

NodeLib_test: $(TEST_SRC)/NodeLib_test.c 
	$(CC) $(CFLAGS) $(TEST_FLGS) -o $(TEST_OBJ)/$(@F) $(OBJS) $< 
	$(TEST_OBJ)/$(@F)


OBJS += $(OBJDIR)/NodeObj_object.o

$(OBJDIR)/NodeObj_object.o: $(SRCDIR)/NodeObj_object.c 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

OBJS += $(OBJDIR)/NodeObj.o

$(OBJDIR)/NodeObj.o: $(SRCDIR)/NodeObj.c $(SRCDIR)/genMake.h 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

TESTS += NodeObj_test

NodeObj_test: $(TEST_SRC)/NodeObj_test.c 
	$(CC) $(CFLAGS) $(TEST_FLGS) -o $(TEST_OBJ)/$(@F) $(OBJS) $< 
	$(TEST_OBJ)/$(@F)


OBJS += $(OBJDIR)/NodePgm_object.o

$(OBJDIR)/NodePgm_object.o: $(SRCDIR)/NodePgm_object.c 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

OBJS += $(OBJDIR)/NodePgm.o

$(OBJDIR)/NodePgm.o: $(SRCDIR)/NodePgm.c $(SRCDIR)/genMake.h 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

TESTS += NodePgm_test

NodePgm_test: $(TEST_SRC)/NodePgm_test.c 
	$(CC) $(CFLAGS) $(TEST_FLGS) -o $(TEST_OBJ)/$(@F) $(OBJS) $< 
	$(TEST_OBJ)/$(@F)


OBJS += $(OBJDIR)/NodeRtn_object.o

$(OBJDIR)/NodeRtn_object.o: $(SRCDIR)/NodeRtn_object.c 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

OBJS += $(OBJDIR)/NodeRtn.o

$(OBJDIR)/NodeRtn.o: $(SRCDIR)/NodeRtn.c $(SRCDIR)/genMake.h 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

TESTS += NodeRtn_test

NodeRtn_test: $(TEST_SRC)/NodeRtn_test.c 
	$(CC) $(CFLAGS) $(TEST_FLGS) -o $(TEST_OBJ)/$(@F) $(OBJS) $< 
	$(TEST_OBJ)/$(@F)


OBJS += $(OBJDIR)/NodeTest_object.o

$(OBJDIR)/NodeTest_object.o: $(SRCDIR)/NodeTest_object.c 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

OBJS += $(OBJDIR)/NodeTest.o

$(OBJDIR)/NodeTest.o: $(SRCDIR)/NodeTest.c $(SRCDIR)/genMake.h 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

TESTS += NodeTest_test

NodeTest_test: $(TEST_SRC)/NodeTest_test.c 
	$(CC) $(CFLAGS) $(TEST_FLGS) -o $(TEST_OBJ)/$(@F) $(OBJS) $< 
	$(TEST_OBJ)/$(@F)


OBJS += $(OBJDIR)/srcParse_object.o

$(OBJDIR)/srcParse_object.o: $(SRCDIR)/srcParse_object.c 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

OBJS += $(OBJDIR)/srcParse.o

$(OBJDIR)/srcParse.o: $(SRCDIR)/srcParse.c $(SRCDIR)/genMake.h 
	$(CC) $(CFLAGS) -c -o $(OBJDIR)/$(@F) $< 

TESTS += test_srcParse

test_srcParse: $(TEST_SRC)/test_srcParse.c 
	$(CC) $(CFLAGS) $(TEST_FLGS) -o $(TEST_OBJ)/$(@F) $(OBJS) $< 
	$(TEST_OBJ)/$(@F)




.PHONY: test
test: $(TESTS)


.PHONY: clean
clean:
	-cd $(TEMP) ; [ -d $(PGMNAM) ] && rm -fr $(PGMNAM)


.PHONY: install
install:
	-cd $(INSTALL_BASE) ; [ -d $(PGMNAM) ] && rm -fr $(PGMNAM)
	cp $(OBJDIR)/$(PGMNAM) $(INSTALLDIR)/$(PGMNAM)


.PHONY: link
link: $(OBJS) src/mainProgram.c
	CC -o $(OBJDIR)/$(PGMNAM) $(CFLAGS) $(CFLAGS_LIBS) $^


.PHONY: create_dirs
create_dirs:
	[ ! -d $(OBJDIR) ] && mkdir -p $(OBJDIR)/tests


.PHONY: all
all:  clean create_dirs link



